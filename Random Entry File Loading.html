<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Random Entry File Loading</title>

</head>
<body>
  <script src = "http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>

  <!--Form with button-->
      <form>
          <!--<button onclick="shuffle(items)">Shuffle JSON File</button>-->
          <input type="button" value="Shuffle JSON File" onClick="shuffle(items)"/>
          <div id="result"></div>
      </form>

  <script>
      //global variables
      document.write("Test");
      //var myArray = [];

      //load JSON file into array
      $(getJSON("my5000Entries.json", function(data)){
        var items = [];
        $(each(data, function(key, val1)){
          items.push("<li> <a href=#'" + key + "'>" + val1 + "> </a> </li>");
        };
      )};
      
      $("<ul/>", {"class":"my-new-list", html: items.join("")}.appendTo("body");
        });

      //shuffle order of elements in array
      //Fisher-Yates-Durstenfeld shuffle
      function shuffle(sourceArray){
        for (var i = 0; i < sourceArray.length - 1; i++){
          //j represents random indices that are larger than current index, but can't we take both larger and smaller values??
          var j = i + Math.floor(Math.random() * (sourceArray.length - i));
          var temp = sourceArray[j];  //new random value
          sourceArray[j] = sourceArray[i]; //switch new with old
          sourceArray[i] = temp; //switch 
        }
        return sourceArray;
      }

      var shuffledArr = shuffle(items);
      
      for (int i = 0; i < shuffledArr.length; i++){
          document.write(shuffledArr[i]);
      }
      </script>
</body>
</html>